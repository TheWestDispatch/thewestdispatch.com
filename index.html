<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The West Dispatch Radio</title>
    
    <!-- Tailwind CSS CDN für schnelles, responsives Styling --><script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Font: Lato (Neutral, sauber, weniger rund) --><link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome für Icons (Social Media Logos) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        /* CSS für das Styling */
        body {
            /* Schriftart auf Lato gesetzt */
            font-family: 'Lato', sans-serif; 
            /* Hintergrundbild: Pfad wurde übernommen. */
            background-image: url('Images/west dispatch cover background.png');
            background-size: cover; /* Bild deckt den gesamten Hintergrund ab */
            background-position: center; /* Bild zentrieren */
            background-attachment: fixed; /* Bild bleibt beim Scrollen fixiert */
            color: #e2e8f0;
            min-height: 100vh;
        }
        /* Stellt sicher, dass das iFrame sich an den Container anpasst */
        .mixcloud-embed-container {
            width: 100%;
            /* Höhe des Mixcloud-Players */
            max-height: 160px; 
            margin-bottom: 24px;
        }
        iframe {
            /* Ecken des iFrame wurden auf 8px belassen, für einen eingebetteten Player ist das oft erwünscht */
            border-radius: 8px; 
        }
        /* Optional: Eine leichte Überlagerung, um den Text besser lesbar zu machen */
        .overlay {
            background-color: rgba(0, 0, 0, 0.5); /* Dunkle, halbtransparente Überlagerung */
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1; /* Hinter dem Inhalt */
        }
        /* CSS für das Kopieren-Icon, um sicherzustellen, dass es klickbar ist */
        .copy-button {
            cursor: pointer;
            flex-shrink: 0; /* Verhindert, dass der Button schrumpft */
            margin-left: 1rem;
        }

        /* Styling für die Lautstärkeslider (Skeuomorph, optional) */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #4A90E2; /* Blauer Track */
            border-radius: 4px;
            cursor: default;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.4);
            cursor: default;
        }
        
        /* Spezifische Social Media Icon Farben */
        .yt-icon { color: #FF0000; }
        .tiktok-icon { color: #FFFFFF; }
        .insta-icon { color: #E1306C; }
        .fb-icon { color: #1877F2; }

        /* NEU: Button-Farben (Markenfarben) */
        .btn-yt { background-color: #FF0000; color: #FFFFFF; }
        .btn-yt:hover { background-color: #CC0000; }
        .btn-tiktok { background-color: #FFFFFF; color: #000000; }
        .btn-tiktok:hover { background-color: #CCCCCC; }
        .btn-insta { background-color: #E1306C; color: #FFFFFF; }
        .btn-insta:hover { background-color: #C12A5E; }
        .btn-fb { background-color: #1877F2; color: #FFFFFF; }
        .btn-fb:hover { background-color: #1461C4; }

         /* NEU: Anpassung für Social Media Boxen, um quadratisch zu wirken und zentriert zu sein */
        .social-box {
            padding: 2.5rem; /* etwas weniger Padding, um kompakter zu sein */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between; /* Icon oben, Button unten */
            /* Min-Höhe, um eine quadratische Form auf gängigen Breiten zu simulieren */
            min-height: 200px; 
        }
        @media (min-width: 1024px) {
            .social-box {
                /* Auf Desktops die Höhe leicht erhöhen für eine bessere quadratische Optik */
                min-height: 250px; 
            }
        }

         /* Standard-Container-Stil für die Boxen - border-radius auf 0 gesetzt */
        .content-box {
            background-color: #424242;
            background-color: rgba(66, 66, 66, 0.95);
            padding: 2rem;
            border-radius: 0; /* Ecken spitz gemacht */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .content-box:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.3);
        }

    </style>
</head>

<body class="flex flex-col items-center p-4 py-10 relative">
    <!-- Funktion zum Kopieren in die Zwischenablage -->
    <script>
        // Funktion zum Kopieren von Text in die Zwischenablage
        function copyToClipboard(text, buttonElement) {
            try {
                // Führt den Kopierbefehl aus
                const tempInput = document.createElement('textarea');
                tempInput.value = text;
                document.body.appendChild(tempInput);
                tempInput.select();
                // document.execCommand('copy') ist notwendig, da navigator.clipboard im iFrame eingeschränkt sein kann
                document.execCommand('copy'); 
                document.body.removeChild(tempInput);

                // Bestätigungsmeldung anzeigen (anstelle von alert)
                showCopyMessage(buttonElement);
            } catch (err) {
                console.error('Fehler beim Kopieren:', err);
            }
        }

        // Funktion zur Anzeige einer kurzen "Kopiert!"-Meldung neben dem Button
        function showCopyMessage(buttonElement) {
            const message = document.createElement('span');
            message.textContent = "Kopiert!";
            message.className = 'text-xs text-green-400 absolute transition-opacity duration-700 opacity-100';
            
            // Positionierung relativ zum Button (rechts)
            const rect = buttonElement.getBoundingClientRect();
            message.style.top = `${rect.top}px`;
            message.style.left = `${rect.right + 5}px`;
            
            document.body.appendChild(message);

            // Meldung nach 1 Sekunde ausblenden und entfernen
            setTimeout(() => {
                message.style.opacity = '0';
                message.style.transition = 'opacity 0.7s';
                setTimeout(() => {
                    message.remove();
                }, 700);
            }, 1000);
        }

        // NEUE FUNKTIONALITÄT: Lädt die Tracks aus der Textdatei und erstellt die Liste
        async function loadTracklist() {
            const container = document.getElementById('tracklist-container');
            if (!container) return;

            try {
                // Versucht, die Tracklist-Datei zu laden
                const response = await fetch('tracklist.txt');
                if (!response.ok) {
                    throw new Error(`Konnte tracklist.txt nicht laden: ${response.statusText}`);
                }
                const text = await response.text();
                
                // Text in einzelne Zeilen (Tracks) aufteilen
                const tracks = text.split('\n').filter(line => line.trim() !== '');
                
                let htmlContent = '';
                
                tracks.forEach((trackLine, index) => {
                    // Extrahieren des Titels (alles nach der ersten Nummer und Punkt), um es zu kopieren
                    const match = trackLine.match(/^(\d+\.|\d+\.\s)?(.+)/);
                    const trackToCopy = match ? match[2].trim().replace(/\s\(\d+:\d+\)$/, '') : trackLine.trim(); // Entfernt Zeitangabe beim Kopieren

                    // Bestimmt die Klasse für die Trennlinie
                    const isLast = index === tracks.length - 1;
                    const borderClass = isLast ? '' : 'border-b border-gray-600 pb-1';

                    // Generiert das HTML für den Listeneintrag
                    htmlContent += `
                        <li class="flex justify-between items-center ${borderClass}">
                            <span data-track-full="${trackLine}" class="truncate">${trackLine}</span>
                            <button 
                                onclick="copyToClipboard(this.getAttribute('data-track'), this)"
                                data-track="${trackToCopy}"
                                class="copy-button text-[#80ffd7] hover:text-white transition duration-200 text-base"
                                aria-label="Titel kopieren">
                                <i class="far fa-copy"></i>
                            </button>
                        </li>
                    `;
                });
                
                container.innerHTML = htmlContent;

            } catch (error) {
                console.error("Fehler beim Laden der Tracklist:", error);
                container.innerHTML = `<li class="text-red-400">Tracklist konnte nicht geladen werden.</li>`;
            }
        }
        
        // Initialisierungsfunktion, die beim Laden des Fensters ausgeführt wird
        window.onload = function() {
            // Media Session API für Lockscreen-Anzeige
            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: "The West Dispatch Radio", 
                    artist: "Ausgabe 23 - 23.11.25", 
                    album: 'Mixcloud Stream',
                    artwork: [
                        // Wichtig: Pfad muss korrekt sein, um auf mobilen Geräten angezeigt zu werden
                        { src: 'Images/week21.jpg', sizes: '512x512', type: 'image/jpeg' } 
                    ]
                });

                // Setzt die Action Handler (diese sind nur deko, da der Player ein iframe ist)
                navigator.mediaSession.setActionHandler('play', () => {
                    console.log('Media Session: Play pressed');
                });
                navigator.mediaSession.setActionHandler('pause', () => {
                    console.log('Media Session: Pause pressed');
                });
                
                // Setzt den Zustand auf "playing", damit die Metadaten angezeigt werden
                navigator.mediaSession.playbackState = 'playing'; 
            }
            
            // Lädt die Tracks dynamisch
            loadTracklist();
        }
    </script>
    
    <!-- Überlagerung für bessere Lesbarkeit --><div class="overlay"></div>


    <!-- 1. CONTAINER: Social Media Links (Header-Leiste) - Spitze Ecken und Schatten -->
    <div class="max-w-xl w-full bg-[#424242] bg-opacity-90 p-3 relative z-10 mb-4 shadow-xl">
        <div class="flex justify-between items-center">
            <!-- Text links in #ffa45e -->
            <span class="text-[#ffa45e] font-bold text-lg tracking-widest">THE WEST DISPATCH</span>
            
            <!-- Icons rechts -->
            <div class="flex space-x-6 text-[#80ffd7]">
                <!-- YouTube -->
                <a href="https://www.youtube.com/@TheWestDispatch" target="_blank" aria-label="YouTube" class="text-2xl hover:text-white transition duration-200">
                    <i class="fab fa-youtube"></i>
                </a>
                <!-- Instagram -->
                <a href="https://www.tiktok.com/@thewestdispatch" target="_blank" aria-label="Instagram" class="text-2xl hover:text-white transition duration-200">
                    <i class="fab fa-instagram"></i>
                </a>
                <!-- TikTok -->
                <a href="https://www.instagram.com/thewestdispatch" target="_blank" aria-label="TikTok" class="text-2xl hover:text-white transition duration-200">
                    <i class="fab fa-tiktok"></i>
                </a>
                <!-- Facebook -->
                <a href="https://www.facebook.com/profile.php?id=61582519846250" target="_blank" aria-label="Facebook" class="text-2xl hover:text-white transition duration-200">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <!-- Mixcloud -->
                <a href="https://www.mixcloud.com/TheWestDispatch/" target="_blank" aria-label="Mixcloud" class="text-2xl hover:text-white transition duration-200">
                    <i class="fab fa-mixcloud"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- 2. CONTAINER: Hauptcontainer (Infos und Stream-Button) - Spitze Ecken und Schatten -->
    <div class="max-w-xl w-full bg-[#424242] bg-opacity-90 p-8 relative z-10 shadow-xl">
        
        <!-- NEU: Wrapper für quadratisches (1:1) Seitenverhältnis des Bildes -->
        <div class="w-full aspect-square relative mb-4">
            <!-- Cover Bild: Pfad auf "Images/week21.jpg" gesetzt -->
            <img src="Images/cover.jpg" alt="Cover Bild" class="absolute inset-0 w-full h-full object-cover">
        </div>
        
        <!-- Überschrift mit Farbe #80ffd7 -->
        <h1 class="text-3xl font-bold mb-4 text-[#80ffd7] text-center uppercase">The West Dispatch Radio</h1>
        
        <!-- Text unter der Überschrift -->
        <p class="text-white text-lg mb-2 text-center">Ausgabe 23 - 03.12.25</p>

        <!-- NEU: Beschreibung des Inhalts -->
        <p class="text-sm text-white-400 text-center mb-6 leading-relaxed">
            Es gibt einen wunderschönen, japanischen Tune aus dem Debut Album von Akiko Yano - Boy Harsher bringen ihren eigenen Feature Film raus - Wir feiern die Rückkehr von Death Grips - Es gibt Ambient Tracks von James K und dem neuen Oneohtrix Point Never Album - und vielen mehr in der neuen Ausgabe des Radios!
        </p>
        
        <!-- NEUER BUTTON: Auf Mixcloud streamen (grün-blau) -->
        <div class="flex justify-center mt-6">
            <a href="https://www.mixcloud.com/TheWestDispatch/the-west-dispatch-radio-031125-ausgabe-23/" target="_blank" class="flex items-center text-center space-x-3 bg-[#5000ff] text-white font-bold py-3 px-8 shadow-md hover:bg-[#8f5dfe] transition duration-200 uppercase text-lg tracking-wider">
                <i class="fas fa-play"></i>
                <span> Mixcloud </span>
            </a>
        </div>

        <!-- NEUER BUTTON: Auf Soundcloud streamen (grün-blau) -->
        <div class="flex justify-center mt-6">
            <a href="https://soundcloud.com/thewestdispatch/the-west-dispatch-radio-23-11?si=d38de0293d16478a8280d026bdceab14&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing" target="_blank" class="flex items-center text-center space-x-3 bg-[#fd5400] text-white font-bold py-3 px-8 shadow-md hover:bg-[#f48751] transition duration-200 uppercase text-lg tracking-wider">
                <i class="fas fa-play"></i>
                <span> Soundloud </span>
            </a>
        </div>


    </div>



    <br><br><br>

    <!-- NEUER ABSCHNITT: Social Media Promotions (4 Boxen nebeneinander) --><section class="max-w-4xl w-full relative z-10 mb-6">
        <!-- Das Grid wurde von md:grid-cols-3 auf lg:grid-cols-4 umgestellt, um 4 Boxen nebeneinander zu ermöglichen --><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            
            <!-- Box 1: YouTube --><!-- Klasse social-box für das quadratische Design und vertikale Ausrichtung hinzugefügt --><div class="content-box social-box">
                <i class="fab fa-youtube text-7xl yt-icon mb-auto mt-auto"></i> <!-- Icon Größe vergrößert --><!-- Button mit yt-Farben --><a href="https://www.youtube.com/@TheWestDispatch" target="_blank" class="inline-block btn-yt font-bold py-3 px-6 shadow-md transition duration-200 uppercase text-sm tracking-wide mt-6">
                    YouTube
                </a>
            </div>

            <!-- Box 2: TikTok --><!-- Klasse social-box für das quadratische Design und vertikale Ausrichtung hinzugefügt --><div class="content-box social-box">
                <i class="fab fa-tiktok text-7xl tiktok-icon mb-auto mt-auto"></i> <!-- Icon Größe vergrößert --><!-- Button mit tiktok-Farben --><a href="https://www.tiktok.com/@thewestdispatch" target="_blank" class="inline-block btn-tiktok font-bold py-3 px-6 shadow-md transition duration-200 uppercase text-sm tracking-wide mt-6">
                    TikTok
                </a>
            </div>

            <!-- Box 3: Instagram --><!-- Klasse social-box für das quadratische Design und vertikale Ausrichtung hinzugefügt --><div class="content-box social-box">
                <i class="fab fa-instagram text-7xl insta-icon mb-auto mt-auto"></i> <!-- Icon Größe vergrößert --><!-- Button mit insta-Farben --><a href="https://www.instagram.com/thewestdispatch/" target="_blank" class="inline-block btn-insta font-bold py-3 px-6 shadow-md transition duration-200 uppercase text-sm tracking-wide mt-6">
                    Instagram
                </a>
            </div>

            <!-- Box 4: Facebook --><!-- Klasse social-box für das quadratische Design und vertikale Ausrichtung hinzugefügt --><div class="content-box social-box">
                <i class="fab fa-facebook-f text-7xl fb-icon mb-auto mt-auto"></i> <!-- Icon Größe vergrößert --><!-- Button mit fb-Farben --><a href="https://www.facebook.com/profile.php?id=61582519846250" target="_blank" class="inline-block btn-fb font-bold py-3 px-6 shadow-md transition duration-200 uppercase text-sm tracking-wide mt-6">
                    Facebook
                </a>
            </div>
        </div>
    </section>
    <!-- ENDE: Social Media Promot

</body>
</html>
